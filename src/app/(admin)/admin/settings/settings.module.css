.page { max-width: 960px; }

/* ─── Toast ─── */
.toast { position: fixed; top: 20px; right: 20px; padding: 12px 20px; font-size: 0.85rem; font-weight: 600; border-radius: 10px; z-index: 2000; animation: slideIn 0.3s ease; }
.toastSuccess { background: #F0FDF4; color: #16A34A; border: 1px solid #BBF7D0; }
.toastError { background: #FEF2F2; color: #DC2626; border: 1px solid #FECACA; }
@keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

/* ─── Header ─── */
.header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 24px; }
.headerLeft { display: flex; align-items: center; gap: 12px; }
.headerLeft h2 { font-size: 1.15rem; font-weight: 700; color: var(--color-neutral-900); }
.headerDesc { font-size: 0.82rem; color: var(--color-neutral-500); }

/* ─── Section Card ─── */
.section {
  background: white;
  border: 1px solid var(--color-neutral-200);
  border-radius: 16px;
  margin-bottom: 20px;
  overflow: hidden;
}

.sectionHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  border-bottom: 1px solid var(--color-neutral-100);
  cursor: pointer;
  user-select: none;
}
.sectionHeader:hover { background: var(--color-neutral-50); }

.sectionHeaderLeft { display: flex; align-items: center; gap: 10px; }
.sectionIcon {
  width: 36px; height: 36px; border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  background: var(--color-primary-50);
}
.sectionTitle { font-size: 0.95rem; font-weight: 700; color: var(--color-neutral-900); }
.sectionCount { font-size: 0.72rem; color: var(--color-neutral-500); }

.sectionChevron {
  width: 20px; height: 20px; color: var(--color-neutral-400);
  transition: transform 0.2s ease;
}
.sectionChevronOpen { transform: rotate(180deg); }

.sectionBody {
  padding: 20px;
}
.sectionBodyHidden { display: none; }

/* ─── Form Grid ─── */
.formGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

.formGroup { display: flex; flex-direction: column; gap: 5px; }
.formGroupFull { grid-column: 1 / -1; }
.formLabel { font-size: 0.78rem; font-weight: 600; color: var(--color-neutral-700); }
.formHint { font-size: 0.7rem; color: var(--color-neutral-400); }
.formInput {
  padding: 9px 13px; font-size: 0.85rem; font-family: inherit;
  border: 1px solid var(--color-neutral-200); border-radius: 9px;
  color: var(--color-neutral-900); background: white;
}
.formInput:focus { outline: none; border-color: var(--color-primary-400); box-shadow: 0 0 0 3px rgba(27,138,80,0.1); }

.formTextarea {
  padding: 9px 13px; font-size: 0.85rem; font-family: inherit;
  border: 1px solid var(--color-neutral-200); border-radius: 9px;
  color: var(--color-neutral-900); background: white;
  min-height: 80px; resize: vertical;
}
.formTextarea:focus { outline: none; border-color: var(--color-primary-400); box-shadow: 0 0 0 3px rgba(27,138,80,0.1); }

/* ─── Section Footer ─── */
.sectionFooter {
  display: flex; justify-content: flex-end; gap: 10px;
  padding: 14px 20px; border-top: 1px solid var(--color-neutral-100);
}

.saveBtn {
  display: flex; align-items: center; gap: 6px;
  padding: 8px 20px; font-size: 0.82rem; font-weight: 600; font-family: inherit;
  color: white; background: var(--color-primary-600); border: none; border-radius: 10px; cursor: pointer;
}
.saveBtn:hover { background: var(--color-primary-700); }
.saveBtn:disabled { opacity: 0.6; cursor: not-allowed; }

.savedBadge {
  display: flex; align-items: center; gap: 4px;
  font-size: 0.78rem; font-weight: 600; color: #16A34A;
}

/* ─── Partners Section ─── */
.partnersList { display: flex; flex-direction: column; gap: 12px; }

.partnerItem {
  display: grid;
  grid-template-columns: 1fr 80px 100px 1fr 36px;
  gap: 10px;
  align-items: center;
  padding: 12px;
  background: var(--color-neutral-50);
  border: 1px solid var(--color-neutral-200);
  border-radius: 10px;
}

.partnerInput {
  padding: 7px 10px; font-size: 0.82rem; font-family: inherit;
  border: 1px solid var(--color-neutral-200); border-radius: 7px;
  color: var(--color-neutral-900); background: white;
}
.partnerInput:focus { outline: none; border-color: var(--color-primary-400); }

.partnerColorInput {
  width: 36px; height: 36px; padding: 2px; border: 1px solid var(--color-neutral-200);
  border-radius: 7px; cursor: pointer; background: white;
}

.removePartnerBtn {
  width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;
  background: #FEF2F2; border: 1px solid #FECACA; border-radius: 8px; cursor: pointer;
  color: #DC2626; font-size: 1rem;
}
.removePartnerBtn:hover { background: #FEE2E2; }

.addPartnerBtn {
  display: flex; align-items: center; gap: 6px;
  padding: 8px 16px; font-size: 0.8rem; font-weight: 600; font-family: inherit;
  color: var(--color-primary-600); background: var(--color-primary-50);
  border: 1px dashed var(--color-primary-300); border-radius: 10px; cursor: pointer;
  margin-top: 8px; width: fit-content;
}
.addPartnerBtn:hover { background: var(--color-primary-100); }

/* ─── Loading ─── */
.loading {
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  gap: 12px; padding: 60px; color: var(--color-neutral-500);
}
.loadingSpinner {
  width: 28px; height: 28px; border: 3px solid var(--color-neutral-200);
  border-top-color: var(--color-primary-500); border-radius: 50%;
  animation: spin 0.8s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* ════════════════════════════════════════
   DARK MODE
   ════════════════════════════════════════ */
[data-theme="dark"] .headerLeft h2 { color: #F0F5F2; }
[data-theme="dark"] .headerDesc { color: #7A9E8C; }

[data-theme="dark"] .section { background: #14493A; border-color: #1E6B50; }
[data-theme="dark"] .sectionHeader { border-color: #1E6B50; }
[data-theme="dark"] .sectionHeader:hover { background: #1A5C48; }
[data-theme="dark"] .sectionTitle { color: #F0F5F2; }
[data-theme="dark"] .sectionCount { color: #7A9E8C; }
[data-theme="dark"] .sectionIcon { background: #1E6B50; }
[data-theme="dark"] .sectionChevron { color: #5A8870; }

[data-theme="dark"] .sectionBody { /* inherits from section */ }
[data-theme="dark"] .sectionFooter { border-color: #1E6B50; }

[data-theme="dark"] .formLabel { color: #A0B8AC; }
[data-theme="dark"] .formHint { color: #5A8870; }
[data-theme="dark"] .formInput { background: #0D3B2E; border-color: #1E6B50; color: #F0F5F2; }
[data-theme="dark"] .formTextarea { background: #0D3B2E; border-color: #1E6B50; color: #F0F5F2; }

[data-theme="dark"] .partnerItem { background: #0D3B2E; border-color: #1E6B50; }
[data-theme="dark"] .partnerInput { background: #14493A; border-color: #1E6B50; color: #F0F5F2; }
[data-theme="dark"] .partnerColorInput { background: #14493A; border-color: #1E6B50; }
[data-theme="dark"] .addPartnerBtn { background: #1E6B50; color: #8DC63F; border-color: #2A8B6A; }
[data-theme="dark"] .addPartnerBtn:hover { background: #1A5C48; }
[data-theme="dark"] .removePartnerBtn { background: #3B1212; border-color: #7F1D1D; color: #FCA5A5; }

[data-theme="dark"] .savedBadge { color: #4ADE80; }
[data-theme="dark"] .toastSuccess { background: #14493A; color: #4ADE80; border-color: #1E6B50; }
[data-theme="dark"] .toastError { background: #3B1212; color: #FCA5A5; border-color: #7F1D1D; }

[data-theme="dark"] .loading { color: #7A9E8C; }
[data-theme="dark"] .loadingSpinner { border-color: #1E6B50; border-top-color: #8DC63F; }

/* ─── Responsive ─── */
@media (max-width: 768px) {
  .formGrid { grid-template-columns: 1fr; }
  .partnerItem { grid-template-columns: 1fr 1fr; }
  .partnerItem > :nth-child(4) { grid-column: 1 / -1; }
}
